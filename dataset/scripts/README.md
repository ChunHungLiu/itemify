# Data Aggregation Scripts
This folder contains all the scripts that help us aggregate and organize
game build data. In addition to these files, a file named ```.api_key``` is needed
to store the API key that will be used to query Riot's databases.

# Classes
```riot_api.py``` contains ```RiotApi```, the class that takes care of the
actual HTTP request to Riot's servers and returns the result of each request.
<br />
```data_aggregator.py``` contains ```DataAggregator```, the class that takes care
of aggregating static data and live data for each summoner. It aggregates
the item and champion JSONs as well as the summoner ID and recent builds for
each summoner.
<br />
```data_analyzer.py``` contains ```DataAnalyzer```, the class that takes care of
pulling important fields for filtering from the raw champion/item/summoner JSONs.
<br/ >
```item_set_generator.py``` contains ```ItemSetGenerator``` and
```ItemSetBlockItems```, classes used to help generate a valid a item set JSON.
It does not do the file write and simply returns the item set as a Python dict
which we dump to a file.
<br />
```util.py``` contains ```Util```, a class that contains utility methods which
make our lives easier when parsing data.

# Runnables
```get_items_champions.py``` pulls the items and champions from Riot's API and dumps the data into files.
<br/ >
```get_item_assets.py``` pulls the image assets for every item from DataDragon and
dumps them into the static images folder.
<br/ >
```get_stats_from_seed.py``` gets champion build data from the hardcoded seeding
summoners and initializes the temporary files QUERIED_SUMMONERS and
UNQUERIED_SUMMONERS, which store the IDs of the summoners we have and have not
queried.
<br />
```get_stats.py``` gets champion build data using the temporary files
QUERIED_SUMMONERS and UNQUERIED_SUMMONERS after they have been initialized, so
it must be run after get_stats_from_seed.py.
<br />
```recheck_queried_ids.py``` checks all the IDs in QUERIED_SUMMONERS against all
the IDs in UNQUERIED_SUMMONERS and removes duplicates and all summoners in
UNQUERIED_SUMMONERS that have already been queried. There are cases where
summoner IDs that have already been queried make their way into
UNQUERIED_SUMMONERS because they are teammates of summoners that are currently
being queried.
<br />
```generate_champion_builds.py``` is the most interesting script, since it takes
stats.json (generated by get_stats.py and get_stats_from_seed.py) and analyzes
the data to determine what is the most effective build for each champion. It
will dump each build into a file.

# Methodology
To generate champion builds, we assign each item an effectiveness score for each
champion it has been built on. For each player that has built that item on that
champion, we add 2.0 if they won the game, plus the player's KDA ((kills +
(assists / 2)) / deaths). Every item built on that champion is then sorted into
buckets based on its type (starter, jungle, endgame, etc) and sorted by
effectiveness.
